// components/HelpSidebar.tsx
import React, { useState } from 'react';
import styles from './HelpSidebar.module.css';

interface Step {
    title: string;
    description: string;
}

const sections = [
    {
        title: "üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç",
        content: "–ï—Å–ª–∏ –≤—ã –∑–Ω–∞–µ—Ç–µ –Ω—É–∂–Ω—É—é –º–∞—Ä–∫—É –û–ö–õ ‚Äî –≤–≤–µ–¥–∏—Ç–µ –µ—ë –≤ –ø–æ–∏—Å–∫ –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´+ –î–æ–±–∞–≤–∏—Ç—å –û–ö–õ¬ª. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å–ª–µ–¥—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤–æ."
    },
    {
        title: "üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è",
        steps: [
            {
                title: "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–∞–±–µ–ª–µ–Ω–µ—Å—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞",
                description: "–û—Ç–∫—Ä–æ–π—Ç–µ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç (–≥–ª–∞–¥–∫–∞—è —Ç—Ä—É–±–∞, –≥–æ—Ñ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç—Ä—É–±–∞, –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ã–π –∫–∞–±–µ–ª—å-–∫–∞–Ω–∞–ª –∏ —Ç.–¥.)"
            },
            {
                title: "–ó–∞–¥–∞–π—Ç–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –º–æ–Ω—Ç–∞–∂–∞",
                description: "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏, —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–∞–±–µ–ª–µ–Ω–µ—Å—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞."
            },
            {
                title: "–í—ã–±–µ—Ä–∏—Ç–µ –∫—Ä–µ–ø—ë–∂–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç",
                description: "–ü–æ–¥—Ö–æ–¥—è—â–∏–π –∫—Ä–µ–ø—ë–∂ —Ç–∞–∫–∂–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤—ã–±–æ—Ä–∞."
            },
            {
                title: "–í—ã–±–µ—Ä–∏—Ç–µ –û–ö–õ",
                description: "–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –æ–≥–Ω–µ—Å—Ç–æ–π–∫—É—é –∫–∞–±–µ–ª—å–Ω—É—é –ª–∏–Ω–∏—é –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤."
            },
            {
                title: "–î–æ–±–∞–≤—å—Ç–µ –û–ö–õ",
                description: "–£–∫–∞–∂–∏—Ç–µ –¥–ª–∏–Ω—É –≤ –º–µ—Ç—Ä–∞—Ö –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É '+ –î–æ–±–∞–≤–∏—Ç—å –û–ö–õ'"
            },
            {
                title: "–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–±–µ–ª—è",
                description: "–ú–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ–∏–ª—å—Ç—Ä–æ–º, –≤—ã–±—Ä–∞–≤ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–±–µ–ª—è, –∞ –º–æ–∂–µ—Ç–µ —Å—Ä–∞–∑—É –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É"
            },
            {
                title: "–î–æ–±–∞–≤—å—Ç–µ –∫–∞–±–µ–ª—å –≤ –û–ö–õ",
                description: "–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–±–µ–ª—å –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ñ–∏–ª—å—Ç—Ä, –∏–ª–∏ –∂–µ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ–π—Å—å –ø–æ–∏—Å–∫–æ–º. –í–≤–µ–¥—è –≤ —Å—Ç—Ä–æ–∫—É –∏–∑–≤–µ—Å—Ç–Ω—É—é –≤–∞–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (—Å–µ—á–µ–Ω–∏–µ –∫–∞–±–µ–ª—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–∏–ª –∏ —Ç.–¥.), –≤—ã –º–æ–∂–µ—Ç–µ —É—Å–∫–æ—Ä–∏—Ç—å –≤—ã–±–æ—Ä –Ω—É–∂–Ω–æ–π –º–∞—Ä–∫–∏. " +
                    "–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–∞–±–µ–ª—è, —É–∫–∞–∂–∏—Ç–µ –¥–ª–∏–Ω—É –≤ –º–µ—Ç—Ä–∞—Ö –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É '+ –î–æ–±–∞–≤–∏—Ç—å –∫–∞–±–µ–ª—å –≤ –û–ö–õ'."
            }
        ] as Step[]
    },
    {
        title: "üîß –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–æ–º",
        content: `–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "+ –î–æ–±–∞–≤–∏—Ç—å –û–ö–õ", –∫–∞—Ä—Ç–æ—á–∫–∞ –û–ö–õ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π.

‚Ä¢ –í–Ω–∏–∑—É —Ä–∞–∑–¥–µ–ª–∞ "–ü–æ–¥–±–æ—Ä –∫–∞–±–µ–ª—è –¥–ª—è –û–ö–õ" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –û–ö–õ –∫–∞–±–µ–ª–µ–º. –ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
‚Ä¢ –¢–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –û–ö–õ ‚Äî –ø—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—É—é.

–° –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –û–ö–õ –≤–æ–∑–º–æ–∂–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
‚Ä¢ –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —É–¥–∞–ª—è—Ç—å –û–ö–õ
‚Ä¢ –î–æ–±–∞–≤–∏—Ç—å –∫–∞–±–µ–ª—å
‚Ä¢ –£–¥–∞–ª—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞–±–µ–ª–∏ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –û–ö–õ
‚Ä¢ –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ" –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –û–ö–õ`
    },
    {
        title: "üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ",
        content: `–ö–Ω–æ–ø–∫–∞ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ PDF¬ª ‚Äî —Å–∫–∞—á–∞–µ—Ç –í–∞—à –ø—Ä–æ–µ–∫—Ç.

–í –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤–æ–π–¥—ë—Ç:
‚Ä¢ –í—Å–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –û–ö–õ
‚Ä¢ –ö–∞–±–µ–ª–∏ —Å –¥–ª–∏–Ω–∞–º–∏
‚Ä¢ –û–ø–∏—Å–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –û–ö–õ`
    },
    {
        title: "üí° –°–æ–≤–µ—Ç—ã",
        content: `‚Ä¢ –í –ø—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω—É–∂–Ω–æ–µ –≤–∞–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –û–ö–õ
‚Ä¢ –í—ã–±–æ—Ä –û–ö–õ –∏–ª–∏ –Ω—É–∂–Ω–æ–π –º–∞—Ä–∫–∏ –∫–∞–±–µ–ª—è –º–æ–∂–Ω–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ –ø–æ–ª—è –ø–æ–∏—Å–∫–∞
‚Ä¢ –ö–∞—Ä—Ç–æ—á–∫–∞ –û–ö–õ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏

–°–æ–≤–µ—Ç: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫ ‚Äî —ç—Ç–æ –±—ã—Å—Ç—Ä–µ–µ!`
    }
];

export const HelpSidebar = () => {
    const [open, setOpen] = useState(false);
    const [activeSection, setActiveSection] = useState(0);

    return (
        <>
            {/* –ö–ù–û–ü–ö–ê –ü–û–ú–û–©–ò */}
            <button
                className={`${styles.helpBtn} ${open ? styles.hidden : ''}`}
                onClick={() => setOpen(true)}
                title="–û—Ç–∫—Ä—ã—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é"
            >
                ?
            </button>

            {/* –°–ê–ô–î–ë–ê–† */}
            <div className={`${styles.sidebar} ${open ? styles.open : ''}`}>
                <div className={styles.header}>
                    <h2 className={styles.title}>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h2>
                    <button
                        className={styles.closeBtn}
                        onClick={() => setOpen(false)}
                    >
                        X
                    </button>
                </div>

                <nav className={styles.nav}>
                    {sections.map((s, i) => (
                        <button
                            key={i}
                            className={`${styles.navBtn} ${activeSection === i ? styles.active : ''}`}
                            onClick={() => setActiveSection(i)}
                        >
                            {s.title.split(' ')[0]}
                        </button>
                    ))}
                </nav>

                <div className={styles.content}>
                    {/* –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç */}
                    {activeSection === 0 && (
                        <div className={styles.section}>
                            <h3>{sections[0].title}</h3>
                            <p>{sections[0].content}</p>
                            <button
                                className={styles.actionBtn}
                                onClick={() => setActiveSection(1)}
                            >
                                –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
                            </button>
                        </div>
                    )}

                    {/* –ü–æ—à–∞–≥–æ–≤–æ */}
                    {activeSection === 1 && (
                        <div className={styles.section}>
                            <h3>{sections[1].title}</h3>
                            <div className={styles.steps}>
                                {sections[1].steps!.map((step, i) => (
                                    <div key={i} className={styles.step}>
                                        <div className={styles.stepHeader}>
                                            <span className={styles.stepNumber}>{i + 1}</span>
                                            <h4>{step.title}</h4>
                                        </div>
                                        <p>{step.description}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    {/* –û—Å—Ç–∞–ª—å–Ω—ã–µ */}
                    {[2, 3, 4].includes(activeSection) && (
                        <div className={styles.section}>
                            <h3>{sections[activeSection].title}</h3>
                            <p>{sections[activeSection].content}</p>
                        </div>
                    )}
                </div>

                <div className={styles.mobileProgress}>
                    {sections.map((_, i) => (
                        <div
                            key={i}
                            className={`${styles.dot} ${activeSection === i ? styles.active : ''}`}
                            onClick={() => setActiveSection(i)}
                        />
                    ))}
                </div>
            </div>

            {open && <div className={styles.overlay} onClick={() => setOpen(false)} />}
        </>
    );
};